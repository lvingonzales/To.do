import"./style.css";import"./style-sidebar.css";import"./style-main.css";import{initSidebar,SelectProject}from"./sidebar.js";import{InitMainDisplay}from"./project-page.js";let defaultProject;const containerDiv=document.querySelector(".container");let projectIdCounter,taskIdCounter,projects=JSON.parse(localStorage.getItem("projects")||"[]"),tasks=JSON.parse(localStorage.getItem("tasks")||"[]");projectIdCounter=Array.isArray(projects)&&projects.length?projects.findLast((t=>t)).id+1:0,taskIdCounter=Array.isArray(tasks)&&tasks.length?tasks.findLast((t=>t)).id+1:0;class Project{constructor(t,e,s){this.id=projectIdCounter++,this.title=t,this.description=e,this.date=s,this.notes="",this.projectTab}}class Task{constructor(t,e,s,o){this.title=t,this.id=taskIdCounter++,this.description=e,this.date=s,this.notes="",this.projectId=o.id,this.taskListEntry,this.taskDisplay,this.isCompleted=!1}}function updateInfo(t,e,s,o){t.title=e,t.description=s,t.date=o}function getTasks(t){return tasks.filter((e=>e.projectId===t))}function pushTask(t){tasks.push(t),localStorage.setItem("tasks",JSON.stringify(tasks)),console.log(JSON.parse(localStorage.getItem("tasks")||"[]"))}function getTask(t){return tasks.find((e=>e.id===t))}function getProjectsList(){return projects}function getTasksList(){return tasks}function getProject(t){return projects.find((e=>e.id===t))}function getProjectTab(t){return t.projectTab}function initMain(){Array.isArray(projects)&&projects.length?(defaultProject=projects[0],console.log(defaultProject)):(defaultProject=new Project("Tasks","These are your unorganized tasks.",""),projects.push(defaultProject),localStorage.setItem("projects",JSON.stringify(projects)),console.log(defaultProject)),initSidebar(),InitMainDisplay(),SelectProject(defaultProject)}const getDefaultProject=()=>defaultProject;function updateTaskStorage(){localStorage.setItem("tasks",JSON.stringify(tasks))}function updateProjectStorage(){localStorage.setItem("projects",JSON.stringify(projects))}function debugGetProjects(){return console.log(getDefaultProject())}console.log(tasks),initMain(),debugGetProjects();export{containerDiv,projects,Project,Task,getTasksList,getProjectTab,updateInfo,updateProjectStorage,getProject,getTasks,getTask,pushTask,getDefaultProject,getProjectsList,updateTaskStorage};